mixin gicon(type)
  span(class="glyphicon glyphicon-" + type)


mixin icon(type)
  i(class="fa fa-" + type)


mixin itext(type, text)
  span
    i(class="fa fa-" + type)
    span(style="margin-left: 8px" kaanna=text)


mixin removeButtonSmall(actionEdit)
  button.btn.btn-warning.btn-sm.btn-small-margin-left(
      ng-disabled="$$ekEditing || versio || creatingNewKasite"
      ng-click=actionEdit)&attributes(attributes)
    +icon("trash")


mixin editButtonSmall(actionEdit)
  button.btn.btn-primary.btn-sm.muokkaa(
      ng-disabled="$$ekEditing || versio || creatingNewKasite"
      ng-click=actionEdit)&attributes(attributes)
    +icon("pencil")

mixin editButton(actionEdit)
  button.btn.btn-primary.muokkaa(ng-hide="$$ekEditing || versio" ng-click=actionEdit)&attributes(attributes)
    +icon("pencil")


mixin addButtonSmall(actionEdit)
  button.btn.btn-primary.btn-sm.muokkaa.btn-small-margin-left(ng-disabled="$$ekEditing" ng-click=actionEdit)&attributes(attributes)
    +icon("plus-circle")


mixin saveButtonSmall(actionEdit)
  button.btn.btn-primary.btn-sm.muokkaa(ng-click=actionEdit)&attributes(attributes)
    +icon("save")


mixin cancelButtonSmall(actionEdit, className)
  button.btn.btn-warning.btn-sm.muokkaa(class=className ng-click=actionEdit)&attributes(attributes)
    +icon("close")


mixin historia(versio, uusinMuokkaaja, uusinMuokkaus, uusinRevisio, actionEdit, actionRevisions, actionPalauta, restoreNew)
  .ylapalkki
    .pull-left
      p
        span
          b(kaanna="'muokattu'")
        span(ng-bind=uusinMuokkaus + " | aikaleima")
      p
        span
          b(kaanna="'muokkaaja'")
        span(ng-bind=uusinMuokkaaja)

    .pull-right
      block
      +editButton(actionEdit)

    .pull-right(ng-hide="$$ekEditing" style="margin-top: 7px")
      a(href="" ng-click=actionRevisions kaanna="'versiohistoria'")
        span(ng-bind=uusinRevisio)

  div(ng-show="versio")
    br
    .alert.alert-info(role="alert")
      div(style="margin-bottom: 10px" kaanna="'tarkastelet-vanhempaa-versiota'")
      div
        button.btn.btn-danger(ng-click=actionPalauta kaanna="'ota-versio-kayttoon'")
        button.btn.btn-default(style="margin-left: 20px;" ng-click=restoreNew kaanna="'palaa-uusimpaan'")


mixin ekdate(model, label)
  div(ng-if="$$ekEditing")
    datepick(type="date" label="{{ " + label + " | kaanna }}" model=model)
  div(ng-if="!$$ekEditing")
    p(ng-bind=model + " | aikaleima")


mixin ekstring(model, required)
  - required = required || "false"
  div(ng-show="$$ekEditing")
    input.form-control(ng-model=model type="text" required=required)
  div(ng-hide="$$ekEditing")
    p(ng-bind-html=model + "| kaanna")


mixin ekinput(model, required)
  - required = required || "false"
  div(ng-show="$$ekEditing")
    input.form-control(slocalized ng-model=model type="text" required=required)
  div(ng-hide="$$ekEditing")
    p(ng-bind-html=model + "| kaanna")


mixin ekeditor(model, layout)
  div(ng-if="$$ekEditing")
    div(ckeditor slocalized ng-model=model layout=layout)
  div(ng-if="!$$ekEditing")
    p(ng-bind-html=model + "| kaanna")


mixin checkbox(name, model)
  .checkbox
    label
      input.checked(type="checkbox" ng-model=model ng-disabled="!$$ekEditing")
      span(kaanna=name)


mixin formfieldDense(label)
  div.row(style="margin-bottom: 8px")
    .col-xs-2: span(kaanna=label)
    .col-xs-10
      block


mixin formfield(label)
  div.row(style="margin-bottom: 20px")
    .col-xs-2: span(kaanna=label)
    .col-xs-10
      block


mixin kasitePropDiv(model, index)
  div(ng-show="!$$ekEditing || $$ekEditingIndex !== " + index)
    p(kaanna=model)


mixin plainTeksti(kentta)
  span(termisto-viitteet=kentta ng-bind-html=kentta + "| kaanna | unsafe")


mixin teksti(kentta)
  p(style="margin-bottom: 16px" termisto-viitteet=kentta ng-bind-html=kentta + "| kaanna | unsafe")


mixin turboChevron(toggleField)
  span.turbochevron
    span(ng-if=toggleField)
      +gicon("chevron-right")
    span(ng-if="!" + toggleField)
      +gicon("chevron-down")


mixin contentToggler(toggleField, name)
  div.content-toggler
    div.content-toggler-header(ng-click=toggleField + " = !" + toggleField)
      span.ct-otsikko
        +turboChevron(toggleField)
        label(kaanna=name)
    div(ng-if="!" + toggleField)
      block


mixin toggler(field, yes, no)
  span.toggler(ng-click=field + " = !" + field)
    span.bubble(ng-class="{ 'active': " + field + " }" kaanna=no)
    span.bubble(ng-class="{ 'active': !" + field + " }" kaanna=yes)
